---
import { SITE } from '../config';
import type { PostType } from '../types';
import Base from '../layout/Base.astro';
import Header from '../components/Header.astro';
import ArchGrid from '../layout/grid/ArchGrid.astro';
import WorksCard from '../components/WorksCard.astro';
import Footer from '../components/Footer.astro';

import '../styles/page/works.scss';
// const posts = await Astro.glob('./works/**/*.md');

const pracWorks = await Astro.glob<PostType>('./works/prac/**/*.md');
const indieWorks = await Astro.glob<PostType>('./works/indie/**/*.md');
---

<Base title={`実績と自主制作 | ${SITE.title}`}>
  <Header />
  <main class="ly_main">
    <ArchGrid>
      <div class="bl_pageTitle bl_pageTitle_icon bl_pageTitle_icon__web">
        <svg class="el_title_border el_title_border__pageTitle">
          <text x="50%" y="50%" text-anchor="middle" dominant-baseline="central"
            >実績と自主制作</text
          >
        </svg>
      </div><!-- /.bl_pageTitle -->
      <section class="ly_section__lg">
        <div class="el_title">
          <p>実績</p>
        </div><!-- /.bl_works_sectionTitle -->
        <ul class="bl_works_list">
          {pracWorks.map(prac => <WorksCard works={prac} />)}
        </ul><!-- /.bl_works_list -->
      </section><!-- /.ly_section__lg -->

      <section class="ly_section__lg">
        <div class="el_title">
          <p>自主制作</p>
        </div><!-- /.bl_works_sectionTitle -->
        <ul class="bl_works_list">
          {indieWorks.map(indie => <WorksCard works={indie} />)}
        </ul><!-- /.bl_works_list -->
      </section><!-- /.ly_section__lg -->
    </ArchGrid>
  </main><!-- /.ly_main -->
  <Footer
    prevPath="/about"
    prevLabel="自己紹介ページへ戻る"
    nextPath="/contact"
    nextLabel="お問い合わせページへ進む"
  />
</Base>
